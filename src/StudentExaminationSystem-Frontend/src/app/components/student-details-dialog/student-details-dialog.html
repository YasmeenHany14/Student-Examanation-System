<p-dialog
  [visible]="visible()"
  [modal]="true"
  [closable]="true"
  [resizable]="false"
  [draggable]="false"
  [footerTemplate]="footer"
  styleClass="student-details-dialog"
  header="Student Details"
  [style]="{ width: '90vw', maxWidth: '900px' }"
  (close)="onClose()"
  (onHide)="onClose()">

  <div class="dialog-content">
    @if (loading()) {
      <div class="flex justify-center items-center py-8">
        <app-spinner />
      </div>
    }

    @if (error() && !loading()) {
      <div class="text-center py-8">
        <div class="text-red-600 mb-4">
          <i class="pi pi-exclamation-triangle text-4xl"></i>
        </div>
        <p-message class="text-gray-600">Failed to load student details. Please try again.</p-message>
      </div>
    }

    @if (studentDetails() && !loading() && !error()) {
      <app-student-details [studentDetails]="studentDetails()!" />
    }
  </div>

  <ng-template #footer>
    <p-button
      type="submit"
      serverity="primary"
      label="Add Course"
      (click)="onAddCourse()">
    </p-button>
  </ng-template>
</p-dialog>
